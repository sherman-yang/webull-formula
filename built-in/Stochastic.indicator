periodK = define(14, name="K Period", min=1)
periodD = define(3, name="D Period", min=1)
smoothK = define(3, name="K Smooth", min=1)
k = ind.sma(math.stoch(close, high, low, periodK), smoothK)
d = ind.sma(k, periodD)
h0 = hline(80, name="Upper Band", color=#9A9A9A,line_type=hline.type_dotted)
h1 = hline(20, name="Lower Band", color=#9A9A9A,line_type=hline.type_dotted)
plt.fill_between(h0, h1, color=#7058FF, opacity=10, name="Background")
plt(k, name="%K", color=#0B90FF)
plt(d, name="%D", color=#FE9F21)